import{j as e,r as u,u as y,a as N}from"./index-FscBDe09.js";import{S as p}from"./SEO-BC_sw-Fn.js";function j(){return e.jsx("header",{className:"w-full mb-12 animate-fade-in",children:e.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl min-h-[50vh] flex items-center justify-center group",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:"url(/BKSHOP/home.png)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("h1",{className:"absolute top-6 left-6 z-10 text-4xl md:text-6xl font-extrabold text-white tracking-tight drop-shadow-xl",children:["BK ",e.jsx("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"Shop"})]}),e.jsx("p",{className:"absolute left-6 top-1/2 -translate-y-1/2 z-10 w-1/2 text-left text-lg md:text-2xl text-gray-200 font-medium leading-relaxed drop-shadow-md",children:"DÃ©couvrez notre nouvelle collection qui allie style, confort et innovation."})]})})}function w({onSelectCategory:t}){const r=[{name:"Hoodie",image:"/BKSHOP/hoodies.jpg"},{name:"Polo",image:"/BKSHOP/polo.jpg"},{name:"T-shirt",image:"/BKSHOP/t_shirt.jpg"},{name:"Casquette",image:"/BKSHOP/casquette.png"}];return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-8 mb-16",children:r.map((n,a)=>e.jsxs("div",{className:"group relative h-64 sm:h-80 rounded-3xl overflow-hidden cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-500",onClick:()=>t(n.name),style:{animationDelay:`${a*100}ms`},children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200",children:e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-80 group-hover:opacity-90 transition-opacity"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:n.name}),e.jsx("div",{className:"w-12 h-1 bg-primary mb-3 rounded-full transition-all duration-300 group-hover:w-20"}),e.jsx("p",{className:"text-gray-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:"DÃ©couvrir la collection â†’"})]})]},n.name))})}function b(t){const r=typeof t=="number"?t:Number(t);return Number.isNaN(r)?`${t}da`:`${r.toLocaleString("fr-DZ")}da`}function f({product:t,isLiked:r,onLike:n,onCommand:a}){return e.jsxs("article",{className:"card-modern",tabIndex:0,onKeyDown:o=>{o.key==="Enter"&&a(),o.key===" "&&(o.preventDefault(),n(t.id))},"aria-label":`Carte produit ${t.name}`,children:[e.jsxs("figure",{className:"relative aspect-square overflow-hidden bg-base-200 flex items-center justify-center",children:[e.jsx("img",{src:t.image,alt:t.name,className:"max-w-full max-h-full w-auto h-auto object-contain p-4 transition-transform duration-500 group-hover:scale-102",loading:"lazy",decoding:"async"}),e.jsx("button",{type:"button",className:`absolute top-3 right-3 btn btn-circle btn-sm shadow-md border-0 transition-transform hover:scale-110 focus:scale-105 ${r?"bg-red-600 text-white":"bg-white/90 text-gray-600"}`,"aria-pressed":r,"aria-label":r?"Retirer des favoris":"Ajouter aux favoris",onClick:o=>{o.stopPropagation(),n(t.id)},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12.1 21.35l-1.1-.99C5.14 15.24 2 12.39 2 8.5 2 6 4 4 6.5 4c1.74 0 3.41.81 4.5 2.09C12.59 4.81 14.26 4 16 4 18.5 4 20.5 6 20.5 8.5c0 3.89-3.14 6.74-8.9 11.86l-1.5 0.99z"})})})]}),e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-base-content/60",children:["â¤ï¸ ",t.favorites||0]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-lg sm:text-xl font-extrabold text-primary",children:b(t.price)}),t.originalPrice&&e.jsx("p",{className:"text-xs text-base-content/50 line-through",children:b(t.originalPrice)})]})]}),e.jsx("div",{className:"card-actions mt-4",children:e.jsx("button",{type:"button",className:"btn btn-primary w-full sm:w-auto rounded-full active:scale-95",onClick:a,"aria-label":`Commander ${t.name}`,children:"Commander"})})]})]})}function S({onStartCheckout:t,likedIds:r,toggleLike:n}){const[a,o]=u.useState([]),g="M",h="Noir";u.useEffect(()=>{(async()=>{try{const s=await(await fetch("https://bkshop-production.up.railway.app/api/products/metrics")).json();o(s)}catch(m){console.error("Failed to fetch best products",m)}})()},[r]);const c=d=>{t&&t(d,g,h)};return a.length===0?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("span",{className:"loading loading-spinner loading-lg"})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:a.map(d=>{const m=r.includes(d.id);return e.jsx(f,{product:d,isLiked:m,onLike:n,onCommand:()=>c(d)},d.id)})})})}function C(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’”"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Aucun favori pour le moment"}),e.jsx("p",{className:"text-base-content/60 max-w-md mx-auto",children:"Explorez nos collections et ajoutez des articles Ã  vos favoris pour les retrouver ici."})]})}function k({likedIds:t,onStartCheckout:r,toggleLike:n}){const[a,o]=u.useState([]),[g,h]=u.useState(!0),c="M",d="Noir";u.useEffect(()=>{const s=async()=>{try{const l=await(await fetch("https://bkshop-production.up.railway.app/api/products")).json();o(l.filter(x=>t.includes(x.id)))}catch(i){console.error("Failed to fetch products",i)}finally{h(!1)}};t.length>0?s():(o([]),h(!1))},[t]);const m=s=>{r&&r(s,c,d)};return g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("span",{className:"loading loading-spinner loading-lg"})}):a.length===0?e.jsx(C,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsx(f,{product:s,isLiked:!0,onLike:n,onCommand:()=>m(s)},s.id))})})}function P({category:t,onBack:r,onStartCheckout:n,likedIds:a,toggleLike:o}){const[g,h]=u.useState([]),[c,d]=u.useState(!0),m="M",s="Noir";u.useEffect(()=>{(async()=>{try{const x=await fetch(`https://bkshop-production.up.railway.app/api/products/category/${t}`);if(!x.ok)throw new Error("Erreur de chargement");const v=await x.json();h(v)}catch(x){console.error("Erreur:",x)}finally{d(!1)}})()},[t]);const i=l=>{n&&n(l,m,s)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:r,className:"btn btn-ghost btn-sm",children:"â† Retour"}),e.jsxs("h2",{className:"text-3xl font-bold",children:["ðŸ›ï¸ ",t]})]}),c?e.jsx("div",{className:"text-center py-12",children:e.jsx("span",{className:"loading loading-spinner loading-lg"})}):g.length===0?e.jsx("div",{className:"text-center py-12 text-base-content/60",children:e.jsx("p",{className:"text-xl",children:"Aucun produit disponible dans cette catÃ©gorie"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(l=>{const x=a.includes(l.id);return e.jsx(f,{product:l,isLiked:x,onLike:o,onCommand:()=>i(l)},l.id)})})]})}function $({onStartCheckout:t,likedIds:r,toggleLike:n}){const[a,o]=u.useState([]),[g,h]=u.useState(!0),c="M",d="Noir";u.useEffect(()=>{(async()=>{try{const l=await(await fetch("https://bkshop-production.up.railway.app/api/products/sales")).json();o(l)}catch(i){console.error("Failed to fetch sales",i)}finally{h(!1)}})()},[]);const m=s=>{t&&t(s,c,d)};return g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("span",{className:"loading loading-spinner loading-lg"})}):e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsxs("div",{className:"text-center mb-8 px-4",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-500",children:"ðŸ”¥ Offres Exceptionnelles ðŸ”¥"}),e.jsx("p",{className:"text-base sm:text-lg opacity-70",children:"Profitez de nos rÃ©ductions limitÃ©es"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>{const i=r.includes(s.id);return e.jsx(f,{product:s,isLiked:i,onLike:n,onCommand:()=>m(s)},s.id)})})]})}function B({view:t="style"}){const r=y(),{user:n}=N(),[a,o]=u.useState("style"),[g,h]=u.useState(null),[c,d]=u.useState(()=>{const i=localStorage.getItem("likedProducts");return i?JSON.parse(i):[]});u.useEffect(()=>{localStorage.setItem("likedProducts",JSON.stringify(c))},[c]);const m=i=>{if(!n){alert("Veuillez vous connecter pour gÃ©rer vos favoris");return}d(l=>l.includes(i)?l.filter(x=>x!==i):[...l,i])},s=(i,l,x)=>{r("/checkout",{state:{product:i,taille:l,couleur:x}})};return t==="sales"?e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Soldes | BK Shop",description:"Profitez de nos offres exceptionnelles sur une large sÃ©lection de vÃªtements."}),e.jsx($,{onStartCheckout:s,likedIds:c,toggleLike:m})]}):e.jsxs("div",{className:"space-y-12",children:[e.jsx(p,{title:"Accueil | BK Shop",description:"DÃ©couvrez la nouvelle collection BK Shop. Mode urbaine, qualitÃ© premium."}),g?e.jsx(P,{category:g,onBack:()=>h(null),onStartCheckout:s,likedIds:c,toggleLike:m}):e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsxs("div",{className:"tabs tabs-boxed justify-center mb-8 bg-base-200 p-2 rounded-full max-w-md mx-auto",children:[e.jsx("a",{className:`tab tab-lg rounded-full transition-all duration-300 ${a==="style"?"tab-active bg-primary text-primary-content shadow-md":"hover:bg-base-300"}`,onClick:()=>o("style"),children:"Collections"}),e.jsx("a",{className:`tab tab-lg rounded-full transition-all duration-300 ${a==="explorer"?"tab-active bg-primary text-primary-content shadow-md":"hover:bg-base-300"}`,onClick:()=>o("explorer"),children:"Meilleurs Ventes"}),e.jsxs("a",{className:`tab tab-lg rounded-full transition-all duration-300 ${a==="favoris"?"tab-active bg-primary text-primary-content shadow-md":"hover:bg-base-300"}`,onClick:()=>o("favoris"),children:["Favoris ",c.length>0&&e.jsx("span",{className:"badge badge-sm badge-ghost ml-2",children:c.length})]})]}),e.jsxs("div",{className:"animate-fade-in",children:[a==="style"&&e.jsx(w,{onSelectCategory:h}),a==="explorer"&&e.jsx(S,{onStartCheckout:s,likedIds:c,toggleLike:m}),a==="favoris"&&e.jsx(k,{likedIds:c,onStartCheckout:s,toggleLike:m})]})]})]})}export{B as default};
