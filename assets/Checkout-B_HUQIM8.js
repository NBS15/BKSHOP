import{u as C,b as L,r as l,j as e}from"./index-FscBDe09.js";import{u as S}from"./useOrders-BTuACdSM.js";import{S as B}from"./SEO-BC_sw-Fn.js";function q(){const i=C(),{state:u}=L(),{product:t,taille:x,couleur:p}=u||{},{addOrder:h}=S(),[o,f]=l.useState(""),[c,g]=l.useState(""),[d,b]=l.useState(""),[n,N]=l.useState(""),[r,j]=l.useState({}),[m,y]=l.useState(x??"M"),[a,v]=l.useState(p??"Noir");if(l.useEffect(()=>{t||i("/")},[t,i]),!t)return null;const w=()=>{const s={};return o.trim()||(s.firstName="Le prénom est requis"),c.trim()||(s.lastName="Le nom est requis"),d.trim()||(s.address="L'adresse est requise"),n.trim()||(s.phone="Le numéro de téléphone est requis"),/^\d{10}$/.test(n.replace(/\s/g,""))||(s.phone="Le numéro doit contenir 10 chiffres"),j(s),Object.keys(s).length===0},k=async s=>{s.preventDefault(),w()&&(await h({product:t,taille:m,couleur:a,firstName:o,lastName:c,address:d,phone:n}),i("/cart"))};return e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Paiement",description:"Finalisez votre commande."}),e.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-8 animate-fade-in",children:[e.jsxs("button",{onClick:()=>i(-1),className:"group flex items-center gap-2 text-gray-600 hover:text-primary transition-colors mb-8 font-medium",children:[e.jsx("span",{className:"p-2 rounded-full bg-white/50 group-hover:bg-primary/10 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 transform group-hover:-translate-x-1 transition-transform",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),"Retour à la boutique"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[e.jsxs("div",{className:"glass-effect rounded-3xl p-6 md:p-8 md:sticky md:top-24",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Résumé de la commande"})]}),e.jsxs("figure",{className:"w-full aspect-square bg-white rounded-2xl overflow-hidden flex items-center justify-center mb-6 shadow-inner group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-50 to-transparent opacity-50"}),e.jsx("img",{src:t.image,alt:t.name,className:"w-3/4 h-3/4 object-contain drop-shadow-xl transform group-hover:scale-110 transition-transform duration-500"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.category})]}),e.jsxs("span",{className:"text-xl font-bold text-primary",children:[t.price,"€"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-2",children:[e.jsxs("div",{className:"bg-white/50 rounded-xl p-3 border border-white/50",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider block mb-2",children:"Taille"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["XS","S","M","L","XL","XXL"].map(s=>e.jsx("button",{type:"button",onClick:()=>y(s),className:`btn btn-xs md:btn-sm ${m===s?"btn-primary":"btn-outline"}`,"aria-pressed":m===s,"aria-label":`Choisir taille ${s}`,children:s},s))})]}),e.jsxs("div",{className:"bg-white/50 rounded-xl p-3 border border-white/50",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider block mb-2",children:"Couleur"}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[["Noir","Blanc","Bleu","Rouge","Vert","Gris"].map(s=>e.jsx("button",{type:"button",onClick:()=>v(s),className:"w-8 h-8 md:w-9 md:h-9 rounded-full transition-all hover:scale-110 focus:scale-105","aria-pressed":a===s,"aria-label":`Choisir couleur ${s}`,style:{backgroundColor:s==="Noir"?"#000":s==="Blanc"?"#fff":s==="Bleu"?"#3b82f6":s==="Rouge"?"#ef4444":s==="Vert"?"#22c55e":s==="Gris"?"#9ca3af":"#fff",border:a===s?"3px solid #6366f1":"1px solid #ccc",boxShadow:a===s?"0 0 8px rgba(99, 102, 241, 0.5)":"none"}},s)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:a==="Noir"?"#000":a==="Blanc"?"#fff":a==="Bleu"?"#3b82f6":a==="Rouge"?"#ef4444":a==="Vert"?"#22c55e":a==="Gris"?"#9ca3af":"#fff"}}),e.jsx("span",{className:"font-semibold text-gray-800",children:a})]})]})]})]}),e.jsx("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/10 mt-4",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold items-center",children:[e.jsx("span",{className:"text-gray-700",children:"Total à payer"}),e.jsxs("span",{className:"text-2xl text-primary",children:[t.price,"€"]})]})})]})]}),e.jsxs("div",{className:"glass-effect rounded-3xl p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center text-secondary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Livraison"})]}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium text-gray-700",children:"Prénom"})}),e.jsx("input",{type:"text",placeholder:"Votre prénom",value:o,onChange:s=>f(s.target.value),className:`input input-bordered w-full bg-white/50 focus:bg-white focus:input-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 text-gray-900 placeholder:text-gray-500 ${r.firstName?"input-error":""}`}),r.firstName&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error font-medium",children:r.firstName})})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium text-gray-700",children:"Nom"})}),e.jsx("input",{type:"text",placeholder:"Votre nom",value:c,onChange:s=>g(s.target.value),className:`input input-bordered w-full bg-white/50 focus:bg-white focus:input-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 text-gray-900 placeholder:text-gray-500 ${r.lastName?"input-error":""}`}),r.lastName&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error font-medium",children:r.lastName})})]})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium text-gray-700",children:"Adresse de livraison"})}),e.jsx("input",{type:"text",placeholder:"Numéro et nom de rue, Ville, Code postal",value:d,onChange:s=>b(s.target.value),className:`input input-bordered w-full bg-white/50 focus:bg-white focus:input-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 text-gray-900 placeholder:text-gray-500 ${r.address?"input-error":""}`}),r.address&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error font-medium",children:r.address})})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium text-gray-700",children:"Téléphone"})}),e.jsx("input",{type:"tel",placeholder:"06 12 34 56 78",value:n,onChange:s=>N(s.target.value),className:`input input-bordered w-full bg-white/50 focus:bg-white focus:input-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 text-gray-900 placeholder:text-gray-500 ${r.phone?"input-error":""}`}),r.phone&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error font-medium",children:r.phone})})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"btn btn-primary w-full btn-lg rounded-xl shadow-xl shadow-primary/20 hover:shadow-primary/40 hover:-translate-y-1 transition-all duration-300",children:"Confirmer la commande"})})]})]})]})]})]})}export{q as default};
